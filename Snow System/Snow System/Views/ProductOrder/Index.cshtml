@model IEnumerable<Snow_System.ProductOrder>

<h1 class="page-header pageHeading" style="text-align:center;">Orders</h1>
<hr />
<div style="text-align:center;">
    <input type="search" style="width:78%; display:inline-block; margin-left:1%;" class="form-control" placeholder="Search..." />
    <button class="btn btn-primary" style="display:inline-block; margin-left:1%; "><span class="glyphicon glyphicon-search"></span></button>
    <br />
</div>
<br />
<div>
    <div class="searchorderpiece">
        <b>Order Details</b>
    </div>
    <div class="searchorderpiece">

        <b>Delivery Address</b>
    </div>
    <div class="searchorderpiece">
        <b>Contact Person Details</b>
    </div>
</div>
@foreach (var item in Model)
{
    if (item.ProductOrderStatusID != 1)
    {
            <div class="searchorderitem" onclick="window.location.href = '@Url.Action("OrderInformation", "ProductOrder", new { id= item.ProductOrderID })'; console.log(@item.ProductOrderID)">
                <div class="searchorderpiece">
                    <div>
                        <b>Order #</b> <span style="text-align:right;">@item.ProductOrderID</span>
                    </div>
                    <div>
                        <b>Date placed:</b> <span style="text-align:right;">@string.Format("{0:dd MMMM yyyy } ", item.DateOfOrder) </span>
                    </div>
                </div>
                <!--Not shown if client-->
                <div class="searchorderpiece">
                    <span>
                        test
                    </span>
                </div>

                <div class="searchorderpiece" style="width:22%;">
                    <div>
                        @item.Location.Client.ClientName @item.Location.Client.ClientSurname
                    </div>
                    <div>
                        @item.Location.Client.ContactNumber
                    </div>
                    <div>
                        test
                    </div>
                </div>
                <div class="searchorderpiece" style="width:12%;">
                    <span style="font-size:200%; float:right;" class="glyphicon glyphicon-chevron-right"></span>
                </div>
                <div class="progress" style="margin-bottom: 2px">
                    @if (item.ProductOrderStatusID == 2)
                    {
                        <div class='progress-bar progress-bar-info progress-bar-striped progress-bar-animated ordered' role="progressbar" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100" style="">
                            Ordered
                        </div>
                    }
                    else if (item.ProductOrderStatusID == 3)
                    {
                        <div class='progress-bar progress-bar-info progress-bar-striped progress-bar-animated order-paid' role="progressbar" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" style="">
                            Paid
                        </div>
                    }
                    else if (item.ProductOrderStatusID == 4)
                    {
                        <div class='progress-bar progress-bar-info progress-bar-striped progress-bar-animated order-partially-packed' role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="">
                            Partially Packed
                        </div>
                    }
                    else if (item.ProductOrderStatusID == 5)
                    {
                        <div class='progress-bar progress-bar-info progress-bar-striped progress-bar-animated order-packed' role="progressbar" aria-valuenow="80" aria-valuemin="0" aria-valuemax="100" style="">
                            Packed
                        </div>
                    }
                    else if (item.ProductOrderStatusID == 6)
                    {
                        <div class='progress-bar progress-bar-info progress-bar-striped progress-bar-animated order-delivered' role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="">
                            Delivered
                        </div>
                    }
                    else if (item.ProductOrderStatusID == 7)
                    {
                        <div class='progress-bar progress-bar-striped bg-danger order-return' role="progressbar" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100" style="">
                            Request For Return Acknowledged
                        </div>
                    }
                    else if (item.ProductOrderStatusID == 8)
                    {
                        <div class='progress-bar progress-bar-striped bg-danger order-return-taken' role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="">
                            Return Completed
                        </div>
                    }
                    else if (item.ProductOrderStatusID == 9)
                    {
                        <div class='progress-bar bg-danger order-cancelled' role="progressbar" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" style="">
                            Order Cancelled
                        </div>
                    }
                </div>
            </div>
    }
}


<br />
@if (ViewBag.roleID >= 3)
{
    <a href="@Url.Action("Index","Client")" class="OptionButton ContinueBtn btn btn-success" data-toggle="tooltip" data-placement="top" title="" data-original-title="New order for client" style="float:right"><span class="glyphicon glyphicon-plus"></span><br /> New</a>
}